@import "tailwindcss";

@theme {
  /* =========================================
     COLOR SYSTEM (OKLCH 2026)
     ========================================= */

  /* Brand Identity */
  --color-action-primary: oklch(60% 0.22 250); /* Buttons (Vibrant) */
  --color-brand-light: oklch(50% 0.2 250); /* Text (Readable) */
  --color-brand-dark: oklch(70% 0.18 250); /* Text Dark Mode (Readable) */

  /* Semantic State Colors */
  --color-success: oklch(68% 0.18 150);
  --color-warning: oklch(75% 0.18 85);
  --color-error: oklch(63% 0.22 29);
  --color-info: oklch(60% 0.18 250);

  /* Neutral Surfaces */
  --color-surface-light: oklch(98% 0.01 250);
  --color-surface-dark: oklch(12% 0.03 260);
  --color-surface-secondary: oklch(
    95% 0.02 250
  ); /* Added for border utilities */

  /* Semantic Map (Default to Light Mode) */
  --color-brand: var(--color-action-primary); /* Compat alias */
  --color-text-brand: var(--color-brand-light);
  --color-surface: var(--color-surface-light);

  /* Legacy Color Compat (Mapping new to old vars for components) */
  --color-brand-alt: oklch(52% 0.25 275);
  --color-txt-main: oklch(20% 0.05 260);
  --color-txt-sec: oklch(45% 0.02 250);
  --color-txt-muted: oklch(65% 0.02 250);
  --color-bg-main: var(--color-surface-light);
  --color-bg-card: var(--color-surface);

  /* =========================================
     TYPOGRAPHY SYSTEM (FLUID SCALE)
     ========================================= */

  --text-display-lg: clamp(2rem, 1.5vw + 1.6rem, 3rem); /* H1 */
  --text-display-md: clamp(1.625rem, 1.1vw + 1.3rem, 2.25rem); /* H2 */
  --text-display-sm: clamp(1.375rem, 0.6vw + 1.2rem, 1.75rem); /* H3 */
  --text-lead: clamp(1.125rem, 0.3vw + 1.05rem, 1.25rem); /* Lead */

  --text-body: 1rem;
  --text-caption: 0.875rem;

  --font-inter: "Inter", sans-serif;
  /* =========================================
     PRESERVED STRUCTURAL TOKENS
     ========================================= */

  /* Typography Scale - Standardized per UX Audit (Hybrid Mapping) */
  --text-h1: var(--text-display-lg);
  --text-h1--line-height: 1.2;
  --text-h1--font-weight: 700;

  --text-h2: var(--text-display-md);
  --text-h2--line-height: 1.3;
  --text-h2--font-weight: 700;

  --text-h3: var(--text-display-sm);
  --text-h3--line-height: 1.4;
  --text-h3--font-weight: 600;

  --text-h4: var(--text-display-sm); /* Consolidated to SM per 2026 std */
  --text-h4--line-height: 1.4;
  --text-h4--font-weight: 600;

  --text-p: var(--text-body);
  --text-p--line-height: 1.5;
  --text-p--font-weight: 400;

  --text-sm: var(--text-caption);
  --text-sm--line-height: 1.5;
  --text-sm--font-weight: 400;

  --text-tiny: 0.75rem; /* 12px maintained */
  --text-tiny--line-height: 1.4;
  --text-tiny--font-weight: 500;

  --text-micro: 0.625rem; /* 10px maintained */
  --text-micro--line-height: 1;
  --text-micro--font-weight: 700;
  --text-micro--letter-spacing: 0.05em;

  /* Radius Tokens */
  --radius-card: 16px;
  --radius-pill: 12px;
  --radius-sm: 8px;
  --radius-lg: 24px;

  /* Layout Tokens */
  --max-width-default: 1280px;
  --max-width-narrow: 576px;
  --navbar-height: 64px;
  --page-padding: 16px;

  /* Spacing Scale */
  --spacing-xxs: 4px;
  --spacing-xs: 8px;
  --spacing-sm: 12px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-xxl: 48px;
  --spacing-xll: 64px;

  /* Z-Index Stack */
  --z-negative: -1;
  --z-elevate: 1;
  --z-dropdown: 50;
  --z-sticky: 100;
  --z-drawer: 200;
  --z-modal: 300;
  --z-popover: 400;
  --z-tooltip: 600;

  --font-sora: "Sora", sans-serif;
  --font-inter: "Inter", sans-serif;

  /* Standard Transitions */
  --transition-fast: 200ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-normal: 300ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* Base Variable Definitions */
/* Base Variable Definitions - Now handled by @theme defaults, kept for legacy scripts if needed */
:root {
  --background: var(--color-surface-light);
  --foreground: var(--color-txt-main);
  --secondary: var(--color-txt-sec);
  --surface: var(--color-surface-light);
}

/* Global Styles */
body {
  background: var(--background);
  color: var(--foreground);
  font-family: "Inter", system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
}

/* Fix for dark mode image artifacts - ensures no unintentional blend filters */
.dark img {
  filter: none !important;
  mix-blend-mode: normal !important;
}

h1,
h2,
h3,
h4,
h5 {
  font-family: "Sora", sans-serif;
  margin: 0;
}

p {
  line-height: 150%;
}

/* Custom Utilities */
@media (prefers-color-scheme: dark) {
  :root {
    --color-text-brand: var(--color-brand-dark); /* Swaps to L=70% */
    --color-surface: var(--color-surface-dark);
    --color-txt-main: oklch(98% 0 0);
    --color-txt-sec: oklch(80% 0.02 250);
  }
}

/* =========================================
   UTILITY COMPOSITION (2026 Standards)
   ========================================= */

@utility text-overline {
  font-family: var(--font-inter);
  font-size: var(--text-caption);
  color: var(--color-text-brand);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-weight: 700;
}

@utility text-lead {
  font-size: var(--text-lead);
  line-height: 1.6;
  color: var(--color-txt-sec);
  font-weight: 400;
}

@utility card-glass {
  background-color: color-mix(in oklch, var(--color-surface), transparent 40%);
  backdrop-filter: blur(12px);
  border: 1px solid oklch(80% 0.02 250 / 0.2);
}

@utility button-primary {
  background-color: var(--color-action-primary);
  color: white;
  padding: 0.75rem 1.5rem;
  border-radius: 0.75rem;
  font-weight: 600;
  transition: all 0.2s ease;

  &:hover {
    background-color: oklch(from var(--color-action-primary) l c h / 0.9);
    box-shadow: 0 4px 6px -1px oklch(0% 0 0 / 0.1);
  }
}

@utility shadow-soft {
  box-shadow: 0 8px 30px rgba(0, 0, 0, 0.04);
}

@utility shadow-card {
  @apply shadow-soft;
}

@utility shadow-lg {
  box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
}

@utility shadow-xl {
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.12);
}

@utility z-dropdown {
  z-index: var(--z-dropdown);
}

@utility z-sticky {
  z-index: var(--z-sticky);
}

@utility header-1 {
  @apply text-h1;
}

@utility subheader {
  @apply text-tiny text-txt-sec capitalize;
}

/* Better spacing utilities */
@utility spacing-tight {
  letter-spacing: -0.025em;
}

@utility spacing-wide {
  letter-spacing: 0.05em;
}

/* Better card utilities */
@utility card-elevated {
  @apply shadow-soft border border-surface-secondary/50 bg-surface;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

@utility card-elevated-hover {
  @apply shadow-lg border-brand/20 transform -translate-y-1;
}

/* Better text utilities */
@utility text-gradient {
  background: linear-gradient(
    135deg,
    var(--color-brand),
    var(--color-brand-alt)
  );
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

@utility text-balance {
  text-wrap: balance;
}

/* Better layout utilities */
@utility container-narrow {
  max-width: 640px;
  margin-left: auto;
  margin-right: auto;
}

@utility container-medium {
  max-width: 1024px;
  margin-left: auto;
  margin-right: auto;
}

/* Better animation utilities */
@utility animate-fade-in {
  animation: fadeIn 0.6s ease-out;
}

@utility animate-slide-up {
  animation: slideUp 0.6s ease-out;
}

@utility animate-scale-in {
  animation: scaleIn 0.4s ease-out;
}

/* Keyframe animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Better button utilities */
@utility button-primary {
  @apply bg-brand text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 hover:bg-brand/90 hover:shadow-lg active:scale-95;
}

@utility button-secondary {
  @apply bg-surface text-txt-main px-6 py-3 rounded-xl font-semibold border border-surface-secondary transition-all duration-200 hover:bg-surface-hover hover:border-brand/30 active:scale-95;
}

/* Better input utilities */
@utility input-field {
  @apply w-full px-4 py-3 bg-surface border border-surface-secondary rounded-xl focus:outline-none focus:ring-2 focus:ring-brand/20 focus:border-brand transition-all duration-200;
}

/* Typography System Utilities (Fluid Updates) */
@utility text-display-xl {
  font-size: 4rem; /* Fallback/Static maximum */
  line-height: 1.1;
  font-weight: 900;
  font-family: var(--font-sora);
  letter-spacing: -0.02em;
}

@utility text-display-lg {
  font-size: var(--text-display-lg);
  line-height: 1.2;
  font-weight: 700;
  font-family: var(--font-sora);
  letter-spacing: -0.02em;
}

@utility text-display-md {
  font-size: var(--text-display-md);
  line-height: 1.3;
  font-weight: 700;
  font-family: var(--font-sora);
  letter-spacing: -0.01em;
}

@utility text-display-sm {
  font-size: var(--text-display-sm);
  line-height: 1.4;
  font-weight: 600;
  font-family: var(--font-sora);
  letter-spacing: -0.01em;
}

/* Enhanced Heading Typography */
@utility text-h1-enhanced {
  @apply text-h1 font-bold font-sora leading-tight;
}

@utility text-h2-enhanced {
  @apply text-h2 font-bold font-sora leading-tight;
}

@utility text-h3-enhanced {
  @apply text-h3 font-semibold font-sora leading-snug;
}

@utility text-h4-enhanced {
  @apply text-h4 font-semibold font-sora leading-snug;
}

/* Body Typography */
@utility text-body-lg {
  @apply text-lg font-normal font-inter leading-relaxed;
}

@utility text-body {
  @apply text-base font-normal font-inter leading-relaxed;
}

@utility text-body-sm {
  @apply text-sm font-normal font-inter leading-relaxed;
}

/* UI Typography */
@utility text-ui-lg {
  @apply text-lg font-medium font-inter leading-normal;
}

@utility text-ui {
  @apply text-base font-medium font-inter leading-normal;
}

@utility text-ui-sm {
  @apply text-sm font-medium font-inter leading-normal;
}

/* Label Typography */
@utility text-label {
  @apply text-sm font-semibold font-inter leading-tight tracking-wide uppercase;
}

@utility text-label-sm {
  @apply text-xs font-semibold font-inter leading-tight tracking-wide uppercase;
}

/* Caption Typography */
@utility text-caption {
  @apply text-sm font-normal font-inter leading-relaxed text-txt-sec;
}

@utility text-caption-sm {
  @apply text-xs font-normal font-inter leading-relaxed text-txt-sec;
}

/* Enhanced Micro Typography */
@utility text-micro-enhanced {
  @apply text-xs font-bold font-inter leading-none tracking-wider uppercase;
}

@utility text-micro-sm {
  @apply text-micro font-bold font-inter leading-none tracking-wider uppercase;
}

/* Color Utilities */
@utility text-primary {
  @apply text-txt-main;
}

@utility text-secondary {
  @apply text-txt-sec;
}

@utility text-muted {
  @apply text-txt-muted;
}

@utility text-inverse {
  @apply text-white dark:text-txt-main;
}

/* Color Utilities - Direct CSS to avoid circular dependency */
@utility text-success {
  color: #10b981;
}
@utility text-warning {
  color: #f59e0b;
}
@utility text-error {
  color: #ef4444;
}
@utility text-info {
  color: #3b82f6;
}

@utility bg-success {
  background-color: #ecfdf5;
}
@utility bg-warning {
  background-color: #fffbeb;
}
@utility bg-error {
  background-color: #fef2f2;
}
@utility bg-info {
  background-color: #eff6ff;
}

@utility bg-surface-hover {
  background-color: var(--color-surface-secondary);
}

@utility border-success {
  border-color: #10b981;
}
@utility border-warning {
  border-color: #f59e0b;
}
@utility border-error {
  border-color: #ef4444;
}
@utility border-info {
  border-color: #3b82f6;
}

@utility bg-hover {
  background-color: rgba(0, 153, 255, 0.08);
}
@utility bg-active {
  background-color: rgba(0, 153, 255, 0.12);
}
@utility bg-focus {
  background-color: rgba(0, 153, 255, 0.2);
}

@utility text-disabled {
  color: rgba(148, 163, 184, 0.3);
}
@utility bg-disabled {
  background-color: rgba(148, 163, 184, 0.1);
}

/* Gradient Utilities */
@utility bg-gradient-brand {
  background: linear-gradient(135deg, #0099ff, #3f53ff);
}
@utility bg-gradient-warm {
  background: linear-gradient(135deg, #ffae00, #ff7fb3);
}
@utility bg-gradient-success {
  background: linear-gradient(135deg, #00c88c, #10b981);
}
@utility bg-gradient-surface {
  background: linear-gradient(135deg, #ffffff, #f8fafc);
}

@utility text-gradient {
  background: linear-gradient(135deg, #0099ff, #3f53ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Weight Utilities */
@utility text-light {
  @apply font-light;
}
@utility text-normal {
  @apply font-normal;
}
@utility text-medium {
  @apply font-medium;
}
@utility text-semibold {
  @apply font-semibold;
}
@utility text-bold {
  @apply font-bold;
}

/* Utility classes for scrollbar */
.scrollbar-hide {
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  scrollbar-width: none; /* Firefox */
}
.scrollbar-hide::-webkit-scrollbar {
  display: none; /* Safari and Chrome */
}
